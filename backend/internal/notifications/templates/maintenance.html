{{template "base" .}}

{{define "content"}}
<h1 style="margin: 0 0 20px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 24px; font-weight: 700; color: #18181b; line-height: 1.3;">
    {{.Title}}
</h1>

<p style="margin: 0 0 25px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 15px; color: #3f3f46; line-height: 1.6;">
    {{.Message}}
</p>

<table border="0" cellpadding="0" cellspacing="0" width="100%" style="margin-bottom: 25px;">
    <tr>
        <td align="center">
            <table border="0" cellpadding="0" cellspacing="0" style="background-color: {{.BgColor}}; border-radius: 12px; border: 2px solid {{.AccentColor}};">
                <tr>
                    <td align="center" style="padding: 25px 40px;">
                        <div style="margin-bottom: 10px;">
                            {{if eq (index .Data "action") "enter"}}
                            <span style="font-size: 48px;">üîß</span>
                            {{else if eq (index .Data "action") "exit"}}
                            <span style="font-size: 48px;">‚úÖ</span>
                            {{else}}
                            <span style="font-size: 48px;">üöö</span>
                            {{end}}
                        </div>
                        
                        <p style="margin: 0 0 5px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 11px; color: #71717a; text-transform: uppercase;">N≈ìud</p>
                        <p style="margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 24px; font-weight: 700; color: #18181b;">
                            {{if index .Data "node"}}{{index .Data "node"}}{{else}}N/A{{end}}
                        </p>
                        
                        <div style="margin-top: 15px;">
                            <span style="display: inline-block; padding: 6px 16px; background-color: {{.AccentColor}}; color: white; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 12px; font-weight: 600; border-radius: 16px; text-transform: uppercase;">
                                {{if eq (index .Data "action") "enter"}}En maintenance{{else if eq (index .Data "action") "exit"}}Op√©rationnel{{else}}√âvacu√©{{end}}
                            </span>
                        </div>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

{{if or (index .Data "vms_to_move") (index .Data "vms_moved") (index .Data "duration")}}
<table border="0" cellpadding="0" cellspacing="0" width="100%" style="background-color: #fafafa; border-radius: 8px;">
    <tr>
        <td style="padding: 20px;">
            <h3 style="margin: 0 0 15px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 13px; font-weight: 600; color: #52525b; text-transform: uppercase;">Statistiques</h3>
            
            <table border="0" cellpadding="0" cellspacing="0" width="100%">
                {{if index .Data "vms_to_move"}}
                <tr>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 13px; color: #71717a; width: 140px;">VMs √† d√©placer</td>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 14px; color: #18181b; font-weight: 600;">{{index .Data "vms_to_move"}}</td>
                </tr>
                {{end}}
                
                {{if index .Data "vms_moved"}}
                <tr>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 13px; color: #71717a; width: 140px;">VMs d√©plac√©es</td>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 14px; color: #10b981; font-weight: 600;">‚úì {{index .Data "vms_moved"}}</td>
                </tr>
                {{end}}
                
                {{if index .Data "duration"}}
                <tr>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 13px; color: #71717a; width: 140px;">Dur√©e</td>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 14px; color: #18181b;">‚è±Ô∏è {{index .Data "duration"}}</td>
                </tr>
                {{end}}
            </table>
        </td>
    </tr>
</table>
{{end}}

<table border="0" cellpadding="0" cellspacing="0" width="100%" style="margin-top: 20px;">
    <tr>
        <td style="padding: 15px; background-color: #eff6ff; border-radius: 8px; border-left: 3px solid #3b82f6;">
            <p style="margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 13px; color: #1e40af; line-height: 1.5;">
                üí° <strong>Information:</strong> 
                {{if eq (index .Data "action") "enter"}}Le n≈ìud n'acceptera plus de nouvelles VMs tant qu'il sera en mode maintenance.{{else if eq (index .Data "action") "exit"}}Le n≈ìud est maintenant disponible pour recevoir de nouvelles VMs.{{else}}Toutes les VMs ont √©t√© migr√©es. Le n≈ìud peut √™tre arr√™t√© en toute s√©curit√©.{{end}}
            </p>
        </td>
    </tr>
</table>
{{end}}
