{{template "base" .}}

{{define "content"}}
<h1 style="margin: 0 0 20px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 24px; font-weight: 700; color: #18181b; line-height: 1.3;">
    {{.Title}}
</h1>

<p style="margin: 0 0 25px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 15px; color: #3f3f46; line-height: 1.6;">
    {{.Message}}
</p>

<table border="0" cellpadding="0" cellspacing="0" width="100%" style="margin-bottom: 25px;">
    <tr>
        <td align="center">
            <table border="0" cellpadding="0" cellspacing="0">
                <tr>
                    <td align="center" style="padding: 15px 20px; background-color: #f4f4f5; border-radius: 8px;">
                        <p style="margin: 0 0 5px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 11px; color: #71717a; text-transform: uppercase; letter-spacing: 0.5px;">Source</p>
                        <p style="margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 16px; font-weight: 600; color: #18181b;">
                            üñ•Ô∏è {{if index .Data "source_node"}}{{index .Data "source_node"}}{{else}}N/A{{end}}
                        </p>
                    </td>
                    
                    <td style="padding: 0 15px;">
                        <span style="font-size: 24px; color: {{.AccentColor}};">‚Üí</span>
                    </td>
                    
                    <td align="center" style="padding: 15px 20px; background-color: {{.BgColor}}; border-radius: 8px; border: 2px solid {{.AccentColor}};">
                        <p style="margin: 0 0 5px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 11px; color: {{.AccentColor}}; text-transform: uppercase; letter-spacing: 0.5px;">Destination</p>
                        <p style="margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 16px; font-weight: 600; color: #18181b;">
                            üñ•Ô∏è {{if index .Data "target_node"}}{{index .Data "target_node"}}{{else}}N/A{{end}}
                        </p>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%" style="background-color: #fafafa; border-radius: 8px;">
    <tr>
        <td style="padding: 20px;">
            <h3 style="margin: 0 0 15px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 13px; font-weight: 600; color: #52525b; text-transform: uppercase; letter-spacing: 0.5px;">
                D√©tails de la VM
            </h3>
            
            <table border="0" cellpadding="0" cellspacing="0" width="100%">
                {{if index .Data "vm_name"}}
                <tr>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 13px; color: #71717a; width: 100px;">Nom</td>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 14px; color: #18181b; font-weight: 600;">{{index .Data "vm_name"}}</td>
                </tr>
                {{end}}
                
                {{if index .Data "vmid"}}
                <tr>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 13px; color: #71717a; width: 100px;">VMID</td>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 14px; color: #18181b;">
                        <code style="background-color: #e4e4e7; padding: 2px 6px; border-radius: 4px; font-size: 13px;">{{index .Data "vmid"}}</code>
                    </td>
                </tr>
                {{end}}
                
                {{if index .Data "reason"}}
                <tr>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 13px; color: #71717a; width: 100px;">Raison</td>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 14px; color: #18181b;">{{index .Data "reason"}}</td>
                </tr>
                {{end}}
                
                {{if index .Data "duration"}}
                <tr>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 13px; color: #71717a; width: 100px;">Dur√©e</td>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 14px; color: {{.AccentColor}}; font-weight: 500;">‚è±Ô∏è {{index .Data "duration"}}</td>
                </tr>
                {{end}}
                
                {{if index .Data "status"}}
                <tr>
                    <td style="padding: 8px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 13px; color: #71717a; width: 100px;">Statut</td>
                    <td style="padding: 8px 0;">
                        <span style="display: inline-block; padding: 4px 10px; background-color: {{.AccentColor}}; color: white; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 12px; font-weight: 600; border-radius: 12px; text-transform: uppercase;">
                            {{index .Data "status"}}
                        </span>
                    </td>
                </tr>
                {{end}}
            </table>
        </td>
    </tr>
</table>

{{if index .Data "error"}}
<table border="0" cellpadding="0" cellspacing="0" width="100%" style="margin-top: 20px;">
    <tr>
        <td style="padding: 15px; background-color: #fef2f2; border-radius: 8px; border-left: 3px solid #dc2626;">
            <p style="margin: 0 0 5px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; font-size: 12px; font-weight: 600; color: #dc2626; text-transform: uppercase;">Erreur</p>
            <p style="margin: 0; font-family: monospace; font-size: 13px; color: #7f1d1d; line-height: 1.5;">{{index .Data "error"}}</p>
        </td>
    </tr>
</table>
{{end}}
{{end}}
